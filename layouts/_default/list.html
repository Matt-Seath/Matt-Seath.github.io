{{ define "main" }}
<section class="page-header">
  <div class="container">
    <h1>{{ .Title | default "Articles" }}</h1>
    {{ with .Description }}<p class="page-description">{{ . }}</p>{{ end }}
  </div>
</section>

<section class="articles-list">
  <div class="container">
    <div class="articles-grid">
      {{ range .Paginator.Pages }}
      <article class="article-card">
        {{ with .Params.image }}
        <div class="article-image">
          <a href="{{ $.Permalink }}">
            <img src="{{ . | relURL }}" alt="{{ $.Title }}" loading="lazy">
          </a>
        </div>
        {{ end }}
        <div class="article-content">
          <div class="article-meta">
            <time datetime="{{ .Date.Format "2006-01-02" }}">{{ .Date.Format "2 January 2006" }}</time>
            {{ range .Params.tags }}
            <span class="tag">{{ . }}</span>
            {{ end }}
          </div>
          <h3><a href="{{ .Permalink }}">{{ .Title }}</a></h3>
          <p>{{ .Description }}</p>
          <a href="{{ .Permalink }}" class="article-link">Read more &rarr;</a>
        </div>
      </article>
      {{ end }}
    </div>

    {{ $paginator := .Paginator }}
    {{ if gt $paginator.TotalPages 1 }}
    <nav class="pagination">
      {{ if $paginator.HasPrev }}
      <a href="{{ $paginator.Prev.URL }}" class="btn btn-secondary">&larr; Newer</a>
      {{ end }}
      <span class="page-info">Page {{ $paginator.PageNumber }} of {{ $paginator.TotalPages }}</span>
      {{ if $paginator.HasNext }}
      <a href="{{ $paginator.Next.URL }}" class="btn btn-secondary">Older &rarr;</a>
      {{ end }}
    </nav>
    {{ end }}
  </div>
</section>
{{ end }}
